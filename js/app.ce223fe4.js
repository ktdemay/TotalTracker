(function(e){function t(t){for(var a,s,i=t[0],l=t[1],c=t[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(a=!1)}a&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},o={app:0},n=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/TotalTracker/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"40d4":function(e,t,r){"use strict";r("48b7")},"48b7":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=r("5f5b"),n=(r("f9e3"),r("2dd8"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("b-container",{staticClass:"games"},[r("b-row",[r("b-col",[e.games.length?r("Games",{attrs:{currGames:e.games,currDate:e.date}}):e._e()],1)],1)],1)],1)}),s=[],i=(r("d3b7"),r("ac1f"),r("1276"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-jumbotron",{scopedSlots:e._u([{key:"header",fn:function(){return[e._v("NBA Scoreboard ("+e._s(e.currDate)+")")]},proxy:!0}])},[r("hr",{staticClass:"my-4"}),r("p",[e._v(" Source code and more info "),r("a",{attrs:{href:"https://github.com/ktdemay/TotalTracker"}},[e._v("here")]),e._v(". ")])]),r("b-table",{attrs:{responsive:"",striped:"",hover:"",items:e.games,fields:e.fields}}),e._m(0)],1)}),l=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"left"},[r("em",[e._v("Games update every 30 seconds")])])}],c=(r("a4d3"),r("e01a"),r("caad"),r("fb6a"),r("b680"),r("2532"),r("5319"),{props:{currGames:Array,currDate:String},data:function(){return{fields:[{key:"status",label:"Status",sortable:!1},{key:"vTeam",label:"Visitor",sortable:!1},{key:"vScore",label:"Score",sortable:!1},{key:"at",label:"",sortable:!1},{key:"hTeam",label:"Home",sortable:!1},{key:"hScore",label:"Score",sortable:!1},{key:"quarter",label:"Quarter",sortable:!1},{key:"time",label:"Time",sortable:!1},{key:"total",label:"Total",sortable:!1},{key:"projTotal",label:"Projected Total",sortable:!1},{key:"ou",label:"O/U",sortable:!1},{key:"notes",label:"Notes",sortable:!1}],games:[],logos:[],gameNotes:[]}},watch:{currGames:{immediate:!0,handler:function(){this.updateGames()}},currDate:{handler:function(){location.reload(),this.addLogos()}}},mounted:function(){this.addLogos()},methods:{updateGames:function(){for(var e=0;e<this.currGames.length;e++){var t=this.currGames[e],r=t.competitions[0].competitors[1].team.abbreviation+" ",a=new Image(30,30);a.src=t.competitions[0].competitors[1].team.logo,this.logos.push(a);var o=t.competitions[0].competitors[1].score,n=t.competitions[0].competitors[0].team.abbreviation+" ",s=new Image(30,30);this.logos.push(s),s.src=t.competitions[0].competitors[0].team.logo;var i=t.competitions[0].competitors[0].score,l=t.competitions[0].status.type.description;if("Scheduled"===l){var c=t.competitions[0].status.type.detail;c=c.split("at "),c=c[1],l=c}var u,p,d=parseInt(o)+parseInt(i),m=t.competitions[0].status.period,f=t.competitions[0].status.displayClock,h=this.getProjTotal(d,m,f),b=this.openStorage();try{u=t.competitions[0].odds[0].overUnder}catch(y){try{u=b[e].ou}catch(y){u=0}}try{p=b[e].notes}catch(y){p=""}this.gameNotes=p;var v={status:l,vTeam:r,vScore:o,at:"@",hTeam:n,hScore:i,quarter:m,time:f,total:d,projTotal:h,ou:u,notes:"",_cellVariants:{}},g=this.changed(v,e);null!==g&&(v._cellVariants=g),this.changed(v,e),this.$set(this.games,e,v)}this.saveStorage(this.games.slice(0,this.currGames.length))},getProjTotal:function(e,t,r){var a,o,n,s,i=48;if(0===t)return 0;r.includes(":")?(r=r.replace(" ",""),n=r.split(":"),a=n[0],o=n[1]):(n=r.split("."),a=0,o=n[0]);var l=parseInt(o)/60;return l+=parseInt(a),t>4?(i+=5*(t-4),s=5*(t-4)-l+48):s=12*(parseInt(t)-1)+(12-l),0===s?0:(i/s*parseInt(e)).toFixed(2)},openStorage:function(){return JSON.parse(localStorage.getItem("games"))},saveStorage:function(e){localStorage.setItem("games",JSON.stringify(e))},changed:function(e,t){var r={},a=this.openStorage();if(null!==a&&"undefined"!==typeof a[t]){var o=a[t],n=!1;if(o.status!==e.status&&(r["status"]="update",n=!0),o.vScore!==e.vScore&&(r["vScore"]="update",n=!0),o.hScore!==e.hScore&&(r["hScore"]="update",n=!0),o.quarter!==e.quarter&&(r["quarter"]="update",n=!0),o.time!==e.time&&(r["time"]="update",n=!0),o.total!==e.total&&(r["total"]="update",n=!0),o.projTotal!==e.projTotal&&(r["projTotal"]="update",n=!0),o.ou!==e.ou&&(r["ou"]="update",n=!0),n)return r}return null},addLogos:function(){for(var e=document.getElementsByTagName("tbody"),t=0;t<e[0].children.length;t++){var r=e[0].children[t];r.cells[1].appendChild(this.logos[2*t]),r.cells[4].appendChild(this.logos[2*t+1]);var a=document.createElement("TEXTAREA");r.cells[11].appendChild(a)}}}}),u=c,p=(r("40d4"),r("2877")),d=Object(p["a"])(u,i,l,!1,null,null,null),m=d.exports,f={name:"app",components:{Games:m},data:function(){return{games:[],date:0}},methods:{update:function(){var e=this,t="https://site.api.espn.com/apis/site/v2/sports/basketball/nba/scoreboard";fetch(t,{method:"get"}).then((function(e){return e.json()})).then((function(t){e.games=t.events;var r=t.day.date.split("-");e.date=r[1]+"/"+r[2]+"/"+r[0]}))}},created:function(){this.update(),setInterval(this.update,3e4)}},h=f,b=(r("034f"),Object(p["a"])(h,n,s,!1,null,null,null)),v=b.exports;a["default"].use(o["a"]),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(v)}}).$mount("#app")},"85ec":function(e,t,r){}});
//# sourceMappingURL=app.ce223fe4.js.map